<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>CEO Visibility Dashboard</title>
    <!-- Tailwind (CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React 18 + ReactDOM (UMD, production) -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    <!-- Babel for in-browser JSX transform (with presets!) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js" data-presets="env,react"></script>
  </head>
  <body class="bg-gray-50">
    <div id="root"></div>

    <script type="text/babel">
      const { useState, useEffect } = React;

      // --- One-time compat guard: if saved data doesn't have HR/Pharmacy, reset once ---
      try {
        const saved = JSON.parse(localStorage.getItem('ceoDashboardData') || 'null');
        if (Array.isArray(saved)) {
          const hasHR = saved.some(d => d?.id === 'hr');
          const hasPharm = saved.some(d => d?.id === 'pharmacy');
          if (!hasHR || !hasPharm) {
            localStorage.removeItem('ceoDashboardData');
          }
        }
      } catch (_) {
        localStorage.removeItem('ceoDashboardData');
      }

      const StatusPill = ({ status }) => {
        const map = {
          green: { cls: "text-green-600 bg-green-100", emoji: "ðŸŸ¢" },
          yellow:{ cls: "text-yellow-600 bg-yellow-100", emoji: "ðŸŸ¡" },
          red:   { cls: "t
